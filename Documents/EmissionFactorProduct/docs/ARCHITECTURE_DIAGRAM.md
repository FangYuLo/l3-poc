# ç³»çµ±æ¶æ§‹åœ– (System Architecture Diagram)

## ğŸ“ ç¸½è¦½æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Emission Factor Management System                     â”‚
â”‚                          ç¢³æ’æ”¾ä¿‚æ•¸ç®¡ç†ç³»çµ±                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              User Interface Layer                            â”‚
â”‚                                ä½¿ç”¨è€…ä»‹é¢å±¤                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚              â”‚    â”‚                  â”‚    â”‚                  â”‚        â”‚
â”‚   â”‚  Left Panel  â”‚    â”‚  Middle Panel    â”‚    â”‚  Right Panel     â”‚        â”‚
â”‚   â”‚  æ¨¹ç‹€å°èˆª     â”‚â—„â”€â”€â–ºâ”‚  ä¿‚æ•¸åˆ—è¡¨         â”‚â—„â”€â”€â–ºâ”‚  è©³æƒ…é¢æ¿        â”‚        â”‚
â”‚   â”‚              â”‚    â”‚                  â”‚    â”‚                  â”‚        â”‚
â”‚   â”‚ SidebarTree  â”‚    â”‚  FactorTable     â”‚    â”‚  FactorDetail    â”‚        â”‚
â”‚   â”‚              â”‚    â”‚                  â”‚    â”‚                  â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚          â”‚                     â”‚                       â”‚                   â”‚
â”‚          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                   â”‚
â”‚          â”‚    â”‚                                  â”‚     â”‚                   â”‚
â”‚          â”‚    â”‚  Modal & Drawer Components       â”‚     â”‚                   â”‚
â”‚          â”‚    â”‚  å°è©±æ¡†èˆ‡å´æ»‘çµ„ä»¶                 â”‚     â”‚                   â”‚
â”‚          â”‚    â”‚                                  â”‚     â”‚                   â”‚
â”‚          â”‚    â”‚  â€¢ GlobalSearchModal             â”‚     â”‚                   â”‚
â”‚          â”‚    â”‚  â€¢ CompositeEditorDrawer         â”‚     â”‚                   â”‚
â”‚          â”‚    â”‚  â€¢ FactorSelectorModal           â”‚     â”‚                   â”‚
â”‚          â”‚    â”‚  â€¢ ProductCarbonFootprintCard    â”‚     â”‚                   â”‚
â”‚          â”‚    â”‚  â€¢ ImportToCentralModal          â”‚     â”‚                   â”‚
â”‚          â”‚    â”‚                                  â”‚     â”‚                   â”‚
â”‚          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                   â”‚
â”‚          â”‚                     â”‚                       â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                     â”‚                       â”‚
           â”‚                     â–¼                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚              Configuration Layer            â”‚                   â”‚
â”‚          â”‚                  é…ç½®å±¤                      â”‚                   â”‚
â”‚          â”‚                                             â”‚                   â”‚
â”‚          â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚                   â”‚
â”‚          â”‚         â”‚  tableColumns.tsx       â”‚         â”‚                   â”‚
â”‚          â”‚         â”‚  è¡¨æ ¼æ¬„ä½é…ç½®            â”‚         â”‚                   â”‚
â”‚          â”‚         â”‚                         â”‚         â”‚                   â”‚
â”‚          â”‚         â”‚  â€¢ favorites            â”‚         â”‚                   â”‚
â”‚          â”‚         â”‚  â€¢ user_defined         â”‚         â”‚                   â”‚
â”‚          â”‚         â”‚  â€¢ pact                 â”‚         â”‚                   â”‚
â”‚          â”‚         â”‚  â€¢ supplier             â”‚         â”‚                   â”‚
â”‚          â”‚         â”‚  â€¢ dataset              â”‚         â”‚                   â”‚
â”‚          â”‚         â”‚  â€¢ global_search        â”‚         â”‚                   â”‚
â”‚          â”‚         â”‚  â€¢ org_inventory        â”‚         â”‚                   â”‚
â”‚          â”‚         â”‚  â€¢ product_footprint    â”‚         â”‚                   â”‚
â”‚          â”‚         â”‚                         â”‚         â”‚                   â”‚
â”‚          â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚                   â”‚
â”‚          â”‚                      â”‚                      â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                      â”‚                      â”‚
           â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            Business Logic Layer                              â”‚
â”‚                               æ¥­å‹™é‚è¼¯å±¤                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚                     React Hooks Layer                         â”‚         â”‚
â”‚   â”‚                      Hook å±¤                                  â”‚         â”‚
â”‚   â”‚                                                                â”‚         â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚
â”‚   â”‚   â”‚                â”‚  â”‚                 â”‚  â”‚              â”‚ â”‚         â”‚
â”‚   â”‚   â”‚ useMockData    â”‚  â”‚ useFactors      â”‚  â”‚ useCompositesâ”‚ â”‚         â”‚
â”‚   â”‚   â”‚ çµ±ä¸€è³‡æ–™ç®¡ç†    â”‚  â”‚ ä¿‚æ•¸é‚è¼¯         â”‚  â”‚ çµ„åˆä¿‚æ•¸é‚è¼¯  â”‚ â”‚         â”‚
â”‚   â”‚   â”‚                â”‚  â”‚                 â”‚  â”‚              â”‚ â”‚         â”‚
â”‚   â”‚   â”‚ â€¢ getAllFactorsâ”‚  â”‚ â€¢ addFactor     â”‚  â”‚ â€¢ createComp â”‚ â”‚         â”‚
â”‚   â”‚   â”‚ â€¢ searchFactorsâ”‚  â”‚ â€¢ updateFactor  â”‚  â”‚ â€¢ updateComp â”‚ â”‚         â”‚
â”‚   â”‚   â”‚ â€¢ getByNodeId  â”‚  â”‚ â€¢ deleteFactor  â”‚  â”‚ â€¢ deleteComp â”‚ â”‚         â”‚
â”‚   â”‚   â”‚ â€¢ getCentral   â”‚  â”‚ â€¢ importFactor  â”‚  â”‚ â€¢ calculate  â”‚ â”‚         â”‚
â”‚   â”‚   â”‚                â”‚  â”‚                 â”‚  â”‚              â”‚ â”‚         â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚
â”‚   â”‚            â”‚                   â”‚                   â”‚         â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                â”‚                   â”‚                   â”‚                   â”‚
â”‚                â–¼                   â–¼                   â–¼                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚                  State Management (Zustand)                 â”‚          â”‚
â”‚   â”‚                      ç‹€æ…‹ç®¡ç†                                â”‚          â”‚
â”‚   â”‚                                                              â”‚          â”‚
â”‚   â”‚  â€¢ selectedNode: TreeNodeProps | null                       â”‚          â”‚
â”‚   â”‚  â€¢ selectedFactor: FactorTableItem | null                   â”‚          â”‚
â”‚   â”‚  â€¢ datasets: Dataset[]                                      â”‚          â”‚
â”‚   â”‚  â€¢ compositeFactors: CompositeFactor[]                      â”‚          â”‚
â”‚   â”‚  â€¢ searchFilters: FilterState                               â”‚          â”‚
â”‚   â”‚                                                              â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Data Layer                                      â”‚
â”‚                               è³‡æ–™å±¤                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚                 â”‚  â”‚                  â”‚  â”‚                     â”‚      â”‚
â”‚   â”‚ mockDatabase    â”‚  â”‚ mockProjectData  â”‚  â”‚ factorProjectMap    â”‚      â”‚
â”‚   â”‚ æ¨¡æ“¬è³‡æ–™åº«       â”‚  â”‚ å°ˆæ¡ˆ Mock è³‡æ–™    â”‚  â”‚ ä¿‚æ•¸å¼•ç”¨æ˜ å°„         â”‚      â”‚
â”‚   â”‚                 â”‚  â”‚                  â”‚  â”‚                     â”‚      â”‚
â”‚   â”‚ â€¢ emissionFactorsâ”‚ â”‚ â€¢ L1 OrgInventoryâ”‚  â”‚ â€¢ calculateUsage()  â”‚      â”‚
â”‚   â”‚ â€¢ compositeFactorsâ”‚ â”‚ â€¢ L2 ProductFootâ”‚  â”‚ â€¢ getUsageById()    â”‚      â”‚
â”‚   â”‚ â€¢ productFootprintâ”‚ â”‚ â€¢ summaries     â”‚  â”‚ â€¢ formatUsage()     â”‚      â”‚
â”‚   â”‚ â€¢ addEmission()  â”‚  â”‚ â€¢ importProduct â”‚  â”‚                     â”‚      â”‚
â”‚   â”‚ â€¢ getAll()       â”‚  â”‚ â€¢ mockL1Info    â”‚  â”‚                     â”‚      â”‚
â”‚   â”‚                 â”‚  â”‚ â€¢ mockL2Info    â”‚  â”‚                     â”‚      â”‚
â”‚   â”‚                 â”‚  â”‚                  â”‚  â”‚                     â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚                    mockCollections                            â”‚         â”‚
â”‚   â”‚                    é›†åˆ Mock è³‡æ–™                              â”‚         â”‚
â”‚   â”‚                                                                â”‚         â”‚
â”‚   â”‚  â€¢ favoriteFactorIds: number[]                                â”‚         â”‚
â”‚   â”‚  â€¢ pactFactorIds: number[]                                    â”‚         â”‚
â”‚   â”‚  â€¢ supplierFactorIds: number[]                                â”‚         â”‚
â”‚   â”‚  â€¢ compositeFactorIds: number[]                               â”‚         â”‚
â”‚   â”‚  â€¢ getCollectionCounts()                                      â”‚         â”‚
â”‚   â”‚  â€¢ isFactorInCollection()                                     â”‚         â”‚
â”‚   â”‚                                                                â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ è³‡æ–™æµç¨‹åœ–

### 1. ä¸­å¤®ä¿‚æ•¸åº«è³‡æ–™æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ä½¿ç”¨è€…     â”‚
â”‚    é»æ“Š      â”‚
â”‚ "ä¸­å¤®ä¿‚æ•¸åº«" â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SidebarTree            â”‚
â”‚   onNodeSelect()         â”‚
â”‚   selectedNode = {       â”‚
â”‚     id: 'favorites',     â”‚
â”‚     type: 'collection'   â”‚
â”‚   }                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FactorTable            â”‚
â”‚   æ ¹æ“š selectedNode      â”‚
â”‚   åˆ¤æ–·è¼‰å…¥è³‡æ–™            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   useMockData()                         â”‚
â”‚   getCentralLibraryFactors()            â”‚
â”‚                                         â”‚
â”‚   Step 1: è¨ˆç®—ä¿‚æ•¸ä½¿ç”¨æƒ…æ³               â”‚
â”‚   â”œâ”€ factorUsageMap = calculateFactorUsage() â”‚
â”‚   â”‚  â””â”€ from factorProjectMapping.ts   â”‚
â”‚   â”‚                                     â”‚
â”‚   Step 2: ç¯©é¸å·²ä½¿ç”¨çš„ä¿‚æ•¸               â”‚
â”‚   â”œâ”€ usedFactorItems =                 â”‚
â”‚   â”‚    allEmissionFactorItems          â”‚
â”‚   â”‚    .filter(usageMap.has(id))       â”‚
â”‚   â”‚    .map(item => ({                 â”‚
â”‚   â”‚      ...item,                      â”‚
â”‚   â”‚      usageText: formatProjectUsage()â”‚
â”‚   â”‚    }))                             â”‚
â”‚   â”‚                                     â”‚
â”‚   Step 3: åŠ å…¥ç”¢å“ç¢³è¶³è·¡ä¿‚æ•¸             â”‚
â”‚   â”œâ”€ productFootprintItems             â”‚
â”‚   â”‚                                     â”‚
â”‚   Step 4: åŠ å…¥åŒ¯å…¥çš„ç”¢å“ä¿‚æ•¸             â”‚
â”‚   â”œâ”€ importedProductFactors            â”‚
â”‚   â”‚  â””â”€ source_type = 'project_data'  â”‚
â”‚   â”‚                                     â”‚
â”‚   Step 5: åˆä½µå»é‡ + æ’åº                â”‚
â”‚   â””â”€ sortBy(usageCount DESC)           â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FactorTable            â”‚
â”‚   é¡¯ç¤ºä¿‚æ•¸åˆ—è¡¨            â”‚
â”‚   â”œâ”€ åç¨±                â”‚
â”‚   â”œâ”€ æ’æ”¾ä¿‚æ•¸            â”‚
â”‚   â”œâ”€ åœ°å€                â”‚
â”‚   â”œâ”€ ä¾†æº                â”‚
â”‚   â”œâ”€ æ¨™ç±¤                â”‚
â”‚   â””â”€ å¼•ç”¨å°ˆæ¡ˆ â­         â”‚
â”‚      "ç”¨æ–¼ 2 å€‹å°ˆæ¡ˆ..."  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ç”¢å“ç¢³è¶³è·¡åŒ¯å…¥ä¸­å¤®åº«æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä½¿ç”¨è€…é»æ“Š              â”‚
â”‚  [åŒ¯å…¥ä¸­å¤®ä¿‚æ•¸åº«] æŒ‰éˆ•   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ImportToCentralModal             â”‚
â”‚  é–‹å•ŸåŒ¯å…¥è¡¨å–®                      â”‚
â”‚                                   â”‚
â”‚  è‡ªå‹•å¸¶å…¥ï¼š                        â”‚
â”‚  â”œâ”€ ä¿‚æ•¸åç¨±                      â”‚
â”‚  â”œâ”€ åŠŸèƒ½å–®ä½                      â”‚
â”‚  â”œâ”€ ç¢³è¶³è·¡å€¼                      â”‚
â”‚  â””â”€ å–®ä½                          â”‚
â”‚                                   â”‚
â”‚  ä½¿ç”¨è€…å¡«å¯«ï¼š                      â”‚
â”‚  â”œâ”€ ç”¢å“é¡åˆ¥ []                   â”‚
â”‚  â”œâ”€ åœ°ç†ç¯„åœ                      â”‚
â”‚  â”œâ”€ ç³»çµ±é‚Šç•Œ                      â”‚
â”‚  â”œâ”€ æ•¸æ“šå“è³ª                      â”‚
â”‚  â””â”€ ä½¿ç”¨å»ºè­°                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  handleImportProductToCentral()   â”‚
â”‚  (mockProjectData.ts)             â”‚
â”‚                                   â”‚
â”‚  Step 1: å–å¾—ç”¢å“æ‘˜è¦              â”‚
â”‚  â”œâ”€ summary = find(productId)     â”‚
â”‚  â”‚                                â”‚
â”‚  Step 2: å»ºç«‹è©³ç´°å‚™è¨»              â”‚
â”‚  â”œâ”€ notes = [                     â”‚
â”‚  â”‚   "ã€ç”¢å“é¡åˆ¥ã€‘...",            â”‚
â”‚  â”‚   "ã€è¨ˆç®—æ¨™æº–ã€‘ISO 14067",     â”‚
â”‚  â”‚   "ã€ç³»çµ±é‚Šç•Œã€‘...",           â”‚
â”‚  â”‚   "ã€æ•¸æ“šä¾†æºã€‘65% / 35%",    â”‚
â”‚  â”‚   "ã€éšæ®µåˆ†è§£ã€‘",              â”‚
â”‚  â”‚   "  - åŸç‰©æ–™: 18.5 kg",      â”‚
â”‚  â”‚   "  - è£½é€ : 12.3 kg",        â”‚
â”‚  â”‚   "  ...",                     â”‚
â”‚  â”‚ ]                              â”‚
â”‚  â”‚                                â”‚
â”‚  Step 3: è½‰æ›ç‚º EmissionFactor    â”‚
â”‚  â”œâ”€ newFactor = {                 â”‚
â”‚  â”‚   source_type: 'project_data', â”‚
â”‚  â”‚   data_quality: formData.quality,â”‚
â”‚  â”‚   notes: notes.join('\n'),     â”‚
â”‚  â”‚   ...                           â”‚
â”‚  â”‚ }                              â”‚
â”‚  â”‚                                â”‚
â”‚  Step 4: æ–°å¢åˆ°è³‡æ–™åº«              â”‚
â”‚  â””â”€ addEmissionFactor(newFactor)  â”‚
â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  mockDatabase.ts                  â”‚
â”‚  addEmissionFactor()              â”‚
â”‚                                   â”‚
â”‚  â”œâ”€ id = nextId++                 â”‚
â”‚  â”œâ”€ created_at = now()            â”‚
â”‚  â”œâ”€ updated_at = now()            â”‚
â”‚  â”œâ”€ emissionFactors.push(factor)  â”‚
â”‚  â””â”€ return factor                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ›´æ–°å°ˆæ¡ˆç‹€æ…‹                      â”‚
â”‚  centralLibStatus = 'imported'    â”‚
â”‚                                   â”‚
â”‚  è§¸ç™¼é‡æ–°æ¸²æŸ“                      â”‚
â”‚  centralLibraryUpdateKey++        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸­å¤®ä¿‚æ•¸åº«é‡æ–°è¼‰å…¥                â”‚
â”‚  é¡¯ç¤ºæ–°åŒ¯å…¥çš„ç”¢å“ç¢³è¶³è·¡ä¿‚æ•¸         â”‚
â”‚                                   â”‚
â”‚  æ¨™ç±¤: Standard                    â”‚
â”‚  å¼•ç”¨å°ˆæ¡ˆ: "å¾ç”¢å“ç¢³è¶³è·¡åŒ¯å…¥"      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. çµ„åˆä¿‚æ•¸å»ºç«‹æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä½¿ç”¨è€…é»æ“Š         â”‚
â”‚  [è‡ªå»ºçµ„åˆä¿‚æ•¸]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CompositeEditorDrawer      â”‚
â”‚  å¾å³å´æ»‘å…¥                  â”‚
â”‚                             â”‚
â”‚  Step 1: è¼¸å…¥åŸºæœ¬è³‡è¨Š        â”‚
â”‚  â”œâ”€ åç¨±                    â”‚
â”‚  â”œâ”€ è¨ˆç®—å…¬å¼ (sum/weighted)â”‚
â”‚  â”œâ”€ å–®ä½                    â”‚
â”‚  â””â”€ æè¿°                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [é¸æ“‡ä¿‚æ•¸] æŒ‰éˆ•             â”‚
â”‚  é–‹å•Ÿ FactorSelectorModal   â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Tab: ä¸­å¤®ä¿‚æ•¸åº«      â”‚   â”‚
â”‚  â”‚ Tab: å…¨åº«æœå°‹        â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ æœå°‹: "å°ç£é›»åŠ›"     â”‚   â”‚
â”‚  â”‚ ç¯©é¸: åœ°å€/å¹´ä»½/...  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â˜‘ å°ç£é›»åŠ›-2024      â”‚   â”‚
â”‚  â”‚ â˜ å°ç£é›»åŠ›-2023      â”‚   â”‚
â”‚  â”‚ ...                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚
â”‚  [ç¢ºèªé¸æ“‡]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¨­å®šæ¬Šé‡                    â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å°ç£é›»åŠ›-2024         â”‚ â”‚
â”‚  â”‚ 0.502 kg COâ‚‚e/kWh     â”‚ â”‚
â”‚  â”‚ æ¬Šé‡: [0.85____]      â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ å¤ªé™½èƒ½-2024           â”‚ â”‚
â”‚  â”‚ 0.043 kg COâ‚‚e/kWh     â”‚ â”‚
â”‚  â”‚ æ¬Šé‡: [0.15____]      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å³æ™‚è¨ˆç®—é è¦½                â”‚
â”‚                             â”‚
â”‚  å…¬å¼: æ¬Šé‡å¹³å‡              â”‚
â”‚  è¨ˆç®—:                       â”‚
â”‚  (0.502 Ã— 0.85 + 0.043 Ã— 0.15) â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚        (0.85 + 0.15)         â”‚
â”‚                             â”‚
â”‚  çµæœ: 0.433 kg COâ‚‚e/kWh    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [å„²å­˜] æŒ‰éˆ•                 â”‚
â”‚                             â”‚
â”‚  createCompositeFactor({    â”‚
â”‚    name: "å°ç£æ··åˆé›»åŠ›2024", â”‚
â”‚    formula_type: 'weighted',â”‚
â”‚    computed_value: 0.433,   â”‚
â”‚    components: [...]        â”‚
â”‚  })                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  mockDatabase.ts            â”‚
â”‚  compositeFactors.push()    â”‚
â”‚                             â”‚
â”‚  é‡æ–°æ•´ç†è‡ªå»ºä¿‚æ•¸åˆ—è¡¨        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ æ¨¡çµ„ä¾è³´é—œä¿‚åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Component Layer                          â”‚
â”‚                            çµ„ä»¶å±¤                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  SidebarTree        â”‚      â”‚  FactorTable         â”‚
    â”‚  â”œâ”€ TreeNode        â”‚      â”‚  â”œâ”€ Table            â”‚
    â”‚  â”œâ”€ DatasetModal    â”‚      â”‚  â”œâ”€ Pagination       â”‚
    â”‚  â””â”€ Icons           â”‚      â”‚  â””â”€ EmptyState       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                              â”‚
               â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚         â”‚  FactorDetail                 â”‚
               â”‚         â”‚  â”œâ”€ DetailSection             â”‚
               â”‚         â”‚  â”œâ”€ UsageTracking             â”‚
               â”‚         â”‚  â””â”€ VersionHistory            â”‚
               â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                      â”‚
               â–¼                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           Modal & Drawer Layer              â”‚
    â”‚              å°è©±æ¡†å±¤                         â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  â€¢ GlobalSearchModal                        â”‚
    â”‚  â€¢ CompositeEditorDrawer                    â”‚
    â”‚  â€¢ FactorSelectorModal                      â”‚
    â”‚  â€¢ ImportToCentralModal                     â”‚
    â”‚  â€¢ ProductCarbonFootprintCard               â”‚
    â”‚  â€¢ OrganizationalInventoryOverview          â”‚
    â”‚  â€¢ ProjectOverviewView                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           Configuration Layer               â”‚
    â”‚               é…ç½®å±¤                          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  tableColumns.tsx                           â”‚
    â”‚  â”œâ”€ TableColumnConfig                       â”‚
    â”‚  â”œâ”€ FolderTableConfig                       â”‚
    â”‚  â”œâ”€ folderTableConfigs{}                    â”‚
    â”‚  â””â”€ getTableConfig()                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            Hooks Layer                       â”‚
    â”‚             Hook å±¤                          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                             â”‚
    â”‚  useMockData                                â”‚
    â”‚  â”œâ”€ getAllEmissionFactors()                 â”‚
    â”‚  â”œâ”€ getCentralLibraryFactors() â­           â”‚
    â”‚  â”œâ”€ getProjectDataByNodeId()                â”‚
    â”‚  â”œâ”€ searchFactors()                         â”‚
    â”‚  â””â”€ getSearchFacets()                       â”‚
    â”‚                                             â”‚
    â”‚  useFactors                                 â”‚
    â”‚  â”œâ”€ addFactor()                             â”‚
    â”‚  â”œâ”€ updateFactor()                          â”‚
    â”‚  â””â”€ deleteFactor()                          â”‚
    â”‚                                             â”‚
    â”‚  useComposites                              â”‚
    â”‚  â”œâ”€ createComposite()                       â”‚
    â”‚  â”œâ”€ updateComposite()                       â”‚
    â”‚  â”œâ”€ deleteComposite()                       â”‚
    â”‚  â””â”€ calculateValue()                        â”‚
    â”‚                                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          State Management                    â”‚
    â”‚             ç‹€æ…‹ç®¡ç†                          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  Zustand Store (lib/store.ts)               â”‚
    â”‚                                             â”‚
    â”‚  interface AppState {                       â”‚
    â”‚    selectedNode: TreeNodeProps | null       â”‚
    â”‚    selectedFactor: FactorTableItem | null   â”‚
    â”‚    datasets: Dataset[]                      â”‚
    â”‚    compositeFactors: CompositeFactor[]      â”‚
    â”‚    searchQuery: string                      â”‚
    â”‚    filters: FilterState                     â”‚
    â”‚    setSelectedNode()                        â”‚
    â”‚    setSelectedFactor()                      â”‚
    â”‚    addDataset()                             â”‚
    â”‚    ...                                      â”‚
    â”‚  }                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            Data Layer                        â”‚
    â”‚              è³‡æ–™å±¤                          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                             â”‚
    â”‚  mockDatabase.ts                            â”‚
    â”‚  â”œâ”€ emissionFactors: EmissionFactor[]       â”‚
    â”‚  â”œâ”€ compositeFactors: CompositeFactor[]     â”‚
    â”‚  â”œâ”€ productFootprintFactors: ...[]          â”‚
    â”‚  â”œâ”€ getAllEmissionFactors()                 â”‚
    â”‚  â”œâ”€ addEmissionFactor()                     â”‚
    â”‚  â””â”€ getEmissionFactorById()                 â”‚
    â”‚                                             â”‚
    â”‚  mockProjectData.ts                         â”‚
    â”‚  â”œâ”€ mockProductCarbonFootprintData[]        â”‚
    â”‚  â”œâ”€ mockOrganizationalInventoryData[]       â”‚
    â”‚  â”œâ”€ mockProductSummaries[]                  â”‚
    â”‚  â”œâ”€ mockL1ProjectInfo                       â”‚
    â”‚  â”œâ”€ mockL2ProjectInfo                       â”‚
    â”‚  â””â”€ handleImportProductToCentral()          â”‚
    â”‚                                             â”‚
    â”‚  factorProjectMapping.ts                    â”‚
    â”‚  â”œâ”€ factorProjectMap                        â”‚
    â”‚  â”œâ”€ projectNameMap                          â”‚
    â”‚  â”œâ”€ calculateFactorUsage() â­               â”‚
    â”‚  â”œâ”€ getFactorUsageById()                    â”‚
    â”‚  â””â”€ formatProjectUsage()                    â”‚
    â”‚                                             â”‚
    â”‚  mockCollections.ts                         â”‚
    â”‚  â”œâ”€ favoriteFactorIds[]                     â”‚
    â”‚  â”œâ”€ pactFactorIds[]                         â”‚
    â”‚  â”œâ”€ supplierFactorIds[]                     â”‚
    â”‚  â”œâ”€ compositeFactorIds[]                    â”‚
    â”‚  â”œâ”€ getCollectionCounts()                   â”‚
    â”‚  â””â”€ isFactorInCollection()                  â”‚
    â”‚                                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”‘ æ ¸å¿ƒè¨­è¨ˆæ¨¡å¼

### 1. é…ç½®é©…å‹•æ¨¡å¼ (Configuration-Driven Pattern)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  tableColumns.tsx (é…ç½®å®šç¾©)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  folderTableConfigs = {                  â”‚
â”‚    favorites: {                          â”‚
â”‚      folderType: 'favorites',            â”‚
â”‚      displayName: 'ä¸­å¤®ä¿‚æ•¸åº«',           â”‚
â”‚      columns: [                          â”‚
â”‚        {                                 â”‚
â”‚          key: 'name',                    â”‚
â”‚          label: 'åç¨±',                  â”‚
â”‚          width: '30%',                   â”‚
â”‚          formatter: (v) => <Text>{v}</Text>â”‚
â”‚        },                                â”‚
â”‚        ...                               â”‚
â”‚      ]                                   â”‚
â”‚    },                                    â”‚
â”‚    user_defined: { ... },                â”‚
â”‚    pact: { ... },                        â”‚
â”‚    ...                                   â”‚
â”‚  }                                       â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FactorTable.tsx (é…ç½®ä½¿ç”¨)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  const config = getTableConfig(nodeType) â”‚
â”‚                                          â”‚
â”‚  <Table>                                 â”‚
â”‚    <Thead>                               â”‚
â”‚      {renderTableHeader(config.columns)} â”‚
â”‚    </Thead>                              â”‚
â”‚    <Tbody>                               â”‚
â”‚      {data.map(row =>                    â”‚
â”‚        renderTableRow(config.columns, row)â”‚
â”‚      )}                                  â”‚
â”‚    </Tbody>                              â”‚
â”‚  </Table>                                â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å„ªé»ï¼š
âœ“ æ–°å¢è¡¨æ ¼æ¨¡å¼åªéœ€æ·»åŠ é…ç½®
âœ“ ç¢ºä¿æ‰€æœ‰è¡¨æ ¼ä½¿ç”¨çµ±ä¸€æ¸²æŸ“é‚è¼¯
âœ“ æ˜“æ–¼ç¶­è­·å’Œæ“´å±•
âœ“ é¡å‹å®‰å…¨
```

### 2. è³‡æ–™é›†ä¸­ç®¡ç†æ¨¡å¼ (Centralized Data Management)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useMockData Hook (è³‡æ–™å­˜å–å±¤)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  è³‡æ–™è½‰æ›å±¤                             â”‚
â”‚  â”œâ”€ convertToTableItem()               â”‚
â”‚  â”œâ”€ convertCompositeToTableItem()      â”‚
â”‚  â””â”€ convertProjectDataToTableItem()    â”‚
â”‚                                        â”‚
â”‚  è³‡æ–™å­˜å– API                           â”‚
â”‚  â”œâ”€ getAllEmissionFactors()            â”‚
â”‚  â”œâ”€ getFavoriteFactors()               â”‚
â”‚  â”œâ”€ getPactFactors()                   â”‚
â”‚  â”œâ”€ getUserDefinedFactors()            â”‚
â”‚  â”œâ”€ getCentralLibraryFactors() â­      â”‚
â”‚  â”œâ”€ searchFactors()                    â”‚
â”‚  â”œâ”€ getProjectDataByNodeId()           â”‚
â”‚  â””â”€ getSearchFacets()                  â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‰€æœ‰çµ„ä»¶é€é useMockData å­˜å–è³‡æ–™      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  FactorTable:                          â”‚
â”‚    const mockData = useMockData()      â”‚
â”‚    const data = mockData.getCentral()  â”‚
â”‚                                        â”‚
â”‚  GlobalSearchModal:                    â”‚
â”‚    const mockData = useMockData()      â”‚
â”‚    const results = mockData.search(q)  â”‚
â”‚                                        â”‚
â”‚  CompositeEditor:                      â”‚
â”‚    const mockData = useMockData()      â”‚
â”‚    const all = mockData.getAllFactors()â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å„ªé»ï¼š
âœ“ å–®ä¸€è³‡æ–™ä¾†æº
âœ“ è³‡æ–™è½‰æ›é‚è¼¯é›†ä¸­
âœ“ æ˜“æ–¼æ›¿æ›ç‚ºçœŸå¯¦ API
âœ“ æ¸¬è©¦å‹å¥½
```

### 3. ä¿‚æ•¸å¼•ç”¨è¿½è¹¤æ¨¡å¼ (Factor Usage Tracking Pattern)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  factorProjectMapping.ts                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  factorProjectMap = {                        â”‚
â”‚    2: [  // è‡ºç£é›»åŠ›-2024                    â”‚
â”‚      { projectId: 'org_2024_s2_1', ... },    â”‚
â”‚      { projectId: 'org_2024_s2_2', ... },    â”‚
â”‚    ],                                        â”‚
â”‚    6: [  // å¤©ç„¶æ°£-å·¥æ¥­ç”¨                     â”‚
â”‚      { projectId: 'org_2024_s1_1', ... },    â”‚
â”‚    ]                                         â”‚
â”‚  }                                           â”‚
â”‚                                              â”‚
â”‚  calculateFactorUsage() {                    â”‚
â”‚    return factorProjectMap.map(entry => ({   â”‚
â”‚      factorId: entry.id,                     â”‚
â”‚      usedInProjects: [                       â”‚
â”‚        {                                     â”‚
â”‚          projectName: "çµ„ç¹”ç›¤æŸ¥-2024",        â”‚
â”‚          usageCount: 3                       â”‚
â”‚        }                                     â”‚
â”‚      ],                                      â”‚
â”‚      totalUsageCount: 3                      â”‚
â”‚    }))                                       â”‚
â”‚  }                                           â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useMockData.getCentralLibraryFactors()      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  const usageMap = calculateFactorUsage()     â”‚
â”‚                                              â”‚
â”‚  return factors.map(factor => ({             â”‚
â”‚    ...factor,                                â”‚
â”‚    usageText: formatProjectUsage(            â”‚
â”‚      usageMap.get(factor.id)                 â”‚
â”‚    )                                         â”‚
â”‚  }))                                         â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FactorTable é¡¯ç¤º                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  å°ç£é›»åŠ›-2024                                â”‚
â”‚  å¼•ç”¨å°ˆæ¡ˆ: "ç”¨æ–¼ 2 å€‹å°ˆæ¡ˆï¼š                   â”‚
â”‚            ç”¢å“ç¢³è¶³è·¡-æ™ºæ…§å‹æ‰‹æ©Ÿ(1æ¬¡)ã€       â”‚
â”‚            çµ„ç¹”ç›¤æŸ¥-2024(3æ¬¡)"               â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å„ªé»ï¼š
âœ“ ç²¾ç¢ºè¿½è¹¤ä¿‚æ•¸ä½¿ç”¨æƒ…æ³
âœ“ é˜²æ­¢èª¤åˆªè¢«ä½¿ç”¨çš„ä¿‚æ•¸
âœ“ å¹«åŠ©ä½¿ç”¨è€…ç†è§£ä¿‚æ•¸å½±éŸ¿ç¯„åœ
âœ“ æ”¯æ´ç‰ˆæœ¬ç®¡ç†èˆ‡å‡ç´šæ±ºç­–
```

---

## ğŸ“Š å‹åˆ¥ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    types/types.ts                       â”‚
â”‚                      å‹åˆ¥å®šç¾©                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  åŸºç¤ä¿‚æ•¸é¡å‹                                            â”‚
â”‚  â”œâ”€ EmissionFactor                                     â”‚
â”‚  â”‚  â”œâ”€ id, name, version                               â”‚
â”‚  â”‚  â”œâ”€ continent, country, region                      â”‚
â”‚  â”‚  â”œâ”€ value, unit, co2_factor                         â”‚
â”‚  â”‚  â”œâ”€ source, source_type, source_ref                 â”‚
â”‚  â”‚  â”œâ”€ data_quality, validation_status                 â”‚
â”‚  â”‚  â””â”€ usage_info                                      â”‚
â”‚  â”‚                                                      â”‚
â”‚  â”œâ”€ CompositeFactor                                    â”‚
â”‚  â”‚  â”œâ”€ formula_type: 'sum' | 'weighted'                â”‚
â”‚  â”‚  â”œâ”€ computed_value                                  â”‚
â”‚  â”‚  â””â”€ components: CompositeFactorComponent[]          â”‚
â”‚  â”‚                                                      â”‚
â”‚  â””â”€ ProductFootprintFactor extends EmissionFactor      â”‚
â”‚     â”œâ”€ functional_unit                                 â”‚
â”‚     â”œâ”€ product_categories                              â”‚
â”‚     â”œâ”€ system_boundary                                 â”‚
â”‚     â””â”€ stage_breakdown                                 â”‚
â”‚                                                         â”‚
â”‚  å°ˆæ¡ˆé¡å‹                                                â”‚
â”‚  â”œâ”€ L2ProjectInfo                                      â”‚
â”‚  â”‚  â”œâ”€ projectId, projectName                          â”‚
â”‚  â”‚  â”œâ”€ productCount, pactProductCount                  â”‚
â”‚  â”‚  â””â”€ status: 'locked' | 'unlocked' | 'draft'         â”‚
â”‚  â”‚                                                      â”‚
â”‚  â”œâ”€ L1ProjectInfo                                      â”‚
â”‚  â”‚  â”œâ”€ projectId, projectName                          â”‚
â”‚  â”‚  â”œâ”€ inventoryYearCount, totalScopeCount             â”‚
â”‚  â”‚  â””â”€ status                                          â”‚
â”‚  â”‚                                                      â”‚
â”‚  â”œâ”€ ProjectProductItem                                 â”‚
â”‚  â”‚  â”œâ”€ type: 'product' | 'pact'                        â”‚
â”‚  â”‚  â”œâ”€ carbonFootprint                                 â”‚
â”‚  â”‚  â”œâ”€ projectStatus                                   â”‚
â”‚  â”‚  â””â”€ centralLibStatus: 'imported' | 'not_imported'   â”‚
â”‚  â”‚                                                      â”‚
â”‚  â””â”€ InventoryYearItem                                  â”‚
â”‚     â”œâ”€ year, totalEmission                             â”‚
â”‚     â”œâ”€ scope1Count, scope2Count, scope3Count           â”‚
â”‚     â””â”€ organizationalBoundary                          â”‚
â”‚                                                         â”‚
â”‚  è³‡æ–™é›†é¡å‹                                              â”‚
â”‚  â”œâ”€ Dataset                                            â”‚
â”‚  â”‚  â”œâ”€ id, name, description                           â”‚
â”‚  â”‚  â”œâ”€ factorIds: number[]                             â”‚
â”‚  â”‚  â””â”€ created_at, updated_at                          â”‚
â”‚  â”‚                                                      â”‚
â”‚  â””â”€ TreeNodeProps                                      â”‚
â”‚     â”œâ”€ id, name, type                                  â”‚
â”‚     â”œâ”€ count                                           â”‚
â”‚     â””â”€ children: TreeNodeProps[]                       â”‚
â”‚                                                         â”‚
â”‚  UI ä»‹é¢é¡å‹                                             â”‚
â”‚  â”œâ”€ FactorTableItem                                    â”‚
â”‚  â”‚  â”œâ”€ type: 'emission_factor' | 'composite_factor'    â”‚
â”‚  â”‚  â”œâ”€ data: EmissionFactor | CompositeFactor          â”‚
â”‚  â”‚  â”œâ”€ usage_info: FactorUsageInfo                     â”‚
â”‚  â”‚  â””â”€ usageText: string                               â”‚
â”‚  â”‚                                                      â”‚
â”‚  â””â”€ ExtendedFactorTableItem extends FactorTableItem    â”‚
â”‚     â”œâ”€ projectUsage: ProjectUsage[]                    â”‚
â”‚     â””â”€ usageText: string                               â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**æ–‡ä»¶ç‰ˆæœ¬**: v1.0
**æœ€å¾Œæ›´æ–°**: 2025-01-10
**å°æ‡‰ç³»çµ±ç‰ˆæœ¬**: v2024.1
