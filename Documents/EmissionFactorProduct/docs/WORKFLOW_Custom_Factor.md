# è‡ªè¨‚ä¿‚æ•¸æ“ä½œæµç¨‹èˆ‡åŠŸèƒ½é‚è¼¯çµ±æ•´

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

è‡ªè¨‚ä¿‚æ•¸åŠŸèƒ½å…è¨±ä½¿ç”¨è€…ç›´æ¥è¼¸å…¥è‡ªè¡Œèª¿æŸ¥æˆ–è¨ˆç®—çš„æ’æ”¾ä¿‚æ•¸ï¼Œä¸éœ€è¦å¾ç¾æœ‰ä¿‚æ•¸çµ„åˆè¨ˆç®—ã€‚é€™æ˜¯èˆ‡ã€Œè‡ªå»ºçµ„åˆä¿‚æ•¸ã€ä¸¦åˆ—çš„å¦ä¸€ç¨®è‡ªå»ºä¿‚æ•¸æ–¹å¼ã€‚

---

## ğŸ¯ æ ¸å¿ƒç‰¹é»

### èˆ‡çµ„åˆä¿‚æ•¸çš„å€åˆ¥

| ç‰¹æ€§ | è‡ªè¨‚ä¿‚æ•¸ | è‡ªå»ºçµ„åˆä¿‚æ•¸ |
|------|---------|-------------|
| **å»ºç«‹æ–¹å¼** | ç›´æ¥è¼¸å…¥ä¿‚æ•¸å€¼ | å¾ç¾æœ‰ä¿‚æ•¸çµ„åˆè¨ˆç®— |
| **GHG æ”¯æ´** | è‡ªç”±é¸æ“‡ 7 ç¨®æº«å®¤æ°£é«” | ç¹¼æ‰¿çµ„æˆä¿‚æ•¸çš„ GHG |
| **è¨ˆç®—é‚è¼¯** | ç„¡è¨ˆç®—ï¼Œç›´æ¥å„²å­˜ | åŠ æ¬Šå¹³å‡æˆ–åŠ ç¸½è¨ˆç®— |
| **ä½è­‰è³‡æ–™** | æ”¯æ´ä¸Šå‚³ PDF/Excel/åœ–ç‰‡ | ä¸æ”¯æ´ |
| **ä½¿ç”¨å ´æ™¯** | è‡ªæœ‰èª¿æŸ¥æ•¸æ“šã€ä¾›æ‡‰å•†æä¾›æ•¸æ“š | æ•´åˆå¤šå€‹æ¨™æº–ä¿‚æ•¸ |
| **å…¥å£ä½ç½®** | Drawer (å³å´æ»‘å‡º) | Drawer (å³å´æ»‘å‡º) |

### æ”¯æ´çš„æº«å®¤æ°£é«”

- COâ‚‚ (äºŒæ°§åŒ–ç¢³)
- CHâ‚„ (ç”²çƒ·)
- Nâ‚‚O (æ°§åŒ–äºæ°®)
- HFCs (æ°«æ°Ÿç¢³åŒ–ç‰©)
- PFCs (å…¨æ°ŸåŒ–ç¢³)
- SFâ‚† (å…­æ°ŸåŒ–ç¡«)
- NFâ‚ƒ (ä¸‰æ°ŸåŒ–æ°®)

---

## ğŸ”„ å®Œæ•´æ“ä½œæµç¨‹

### æµç¨‹åœ–

```mermaid
sequenceDiagram
    participant U as ä½¿ç”¨è€…
    participant UI as ä¸»ä»‹é¢
    participant Drawer as è‡ªè¨‚ä¿‚æ•¸ Drawer
    participant Hook as useMockData Hook
    participant Store as customFactors å„²å­˜

    U->>UI: é»æ“Šã€Œè‡ªè¨‚ä¿‚æ•¸ã€æŒ‰éˆ•
    UI->>Drawer: é–‹å•Ÿ CustomFactorDrawer
    Drawer->>U: é¡¯ç¤ºç©ºç™½è¡¨å–®

    U->>Drawer: å¡«å¯«åŸºæœ¬è³‡è¨Š<br/>(ä¾†æºã€åç¨±ã€åœ‹å®¶ã€æ—¥æœŸ)
    U->>Drawer: é¸æ“‡ GHG ç¨®é¡
    Drawer->>Drawer: å‹•æ…‹é¡¯ç¤ºå°æ‡‰çš„ GHG è¼¸å…¥æ¬„ä½
    U->>Drawer: è¼¸å…¥å„ GHG çš„æ’æ”¾ä¿‚æ•¸èˆ‡å–®ä½
    U->>Drawer: (é¸å¡«) ä¸Šå‚³ä½è­‰æ–‡ä»¶
    U->>Drawer: (é¸å¡«) å¡«å¯«å‚™è¨»

    U->>Drawer: é»æ“Šã€Œå„²å­˜ä¿‚æ•¸ã€
    Drawer->>Drawer: é©—è­‰è¡¨å–®

    alt é©—è­‰å¤±æ•—
        Drawer->>U: é¡¯ç¤ºéŒ¯èª¤æç¤º
    else é©—è­‰é€šé
        Drawer->>Hook: å‘¼å« handleCustomFactorSave()
        Hook->>Hook: åˆ¤æ–·æ–°å¢æˆ–æ›´æ–°

        alt æ–°å¢æ¨¡å¼
            Hook->>Store: addCustomFactor(factor)
            Store->>Store: å„²å­˜åˆ° customFactors[]
        else æ›´æ–°æ¨¡å¼
            Hook->>Store: updateCustomFactor(id, factor)
            Store->>Store: æ›´æ–°ç¾æœ‰ä¿‚æ•¸
        end

        Hook->>UI: è§¸ç™¼é‡æ–°æ¸²æŸ“ (setRefreshKey)
        Hook->>Drawer: é—œé–‰ Drawer
        Hook->>U: é¡¯ç¤ºæˆåŠŸ Toast
        UI->>UI: åˆ·æ–°è‡ªå»ºä¿‚æ•¸åˆ—è¡¨
    end
```

### æ­¥é©Ÿèªªæ˜

#### 1. é€²å…¥è‡ªè¨‚ä¿‚æ•¸åŠŸèƒ½
```typescript
// ä½ç½®ï¼šè‡ªå»ºä¿‚æ•¸è³‡æ–™å¤¾çš„å·¥å…·åˆ—
ä½¿ç”¨è€…é»æ“Šã€Œ+ è‡ªè¨‚ä¿‚æ•¸ã€æŒ‰éˆ•ï¼ˆç¶ è‰²å¤–æ¡†ï¼‰
â†“
è§¸ç™¼ onCustomFactorOpen()
â†“
é–‹å•Ÿ CustomFactorDrawer (å¾å³å´æ»‘å‡º)
```

#### 2. å¡«å¯«è¡¨å–®

**å¿…å¡«æ¬„ä½ï¼š**
- **ä¿‚æ•¸ä¾†æº** `source`ï¼šä¾‹å¦‚ã€Œç’°ä¿ç½²ã€ã€ã€Œå…§éƒ¨èª¿æŸ¥ã€ã€ã€Œä¾›æ‡‰å•†æä¾›ã€
- **ä¿‚æ•¸åç¨±** `name`ï¼šä¾‹å¦‚ã€ŒæŸ´æ²¹è»Šé‹è¼¸-è‡ªæœ‰è»ŠéšŠã€
- **Country/Area** `region`ï¼šå¾é è¨­é¸é …ä¸­é¸æ“‡ï¼ˆå°ç£ã€ç¾åœ‹ã€è‹±åœ‹ç­‰ï¼‰
- **å•Ÿç”¨æ—¥æœŸ** `effective_date`ï¼šISO 8601 æ ¼å¼çš„æ—¥æœŸ
- **æº«å®¤æ°£é«”é¸æ“‡** `selected_ghgs`ï¼šè‡³å°‘é¸æ“‡ä¸€ç¨® GHG

**GHG è¼¸å…¥è¦å‰‡ï¼š**
```typescript
// ä½¿ç”¨è€…é¸æ“‡ GHG å¾Œï¼Œå‹•æ…‹é¡¯ç¤ºå°æ‡‰æ¬„ä½
é¸æ“‡ COâ‚‚ â†’ é¡¯ç¤ºï¼š
  - co2_factor: number (æ’æ”¾ä¿‚æ•¸ï¼Œå°æ•¸é»10ä½)
  - co2_unit: string (å–®ä½ï¼Œä¾‹å¦‚ï¼škg COâ‚‚/L)

é¸æ“‡ CHâ‚„ â†’ é¡¯ç¤ºï¼š
  - ch4_factor: number
  - ch4_unit: string

// ä»¥æ­¤é¡æ¨
```

**å–®ä½è¨­å®šæ–¹å¼ï¼ˆ2024-11-19 æ–°å¢ï¼‰ï¼š**
```typescript
// åˆ†å­å–®ä½ / åˆ†æ¯å–®ä½
ä¾‹å¦‚ï¼škg {GHG} / kWh
     â†“
     kg COâ‚‚/kWh (è‡ªå‹•å¸¶å…¥ COâ‚‚)
     kg CHâ‚„/kWh (è‡ªå‹•å¸¶å…¥ CHâ‚„)

// åˆ†æ¯å–®ä½æ¡ç”¨å…©éšæ®µé¸æ“‡ï¼š
1. é¸æ“‡å–®ä½é¡åˆ¥ï¼šè³ªé‡ã€èƒ½é‡ã€é«”ç©ã€è·é›¢ã€æ™‚é–“ã€é¢ç©ã€æ•¸é‡ã€é‹è¼¸
2. é¸æ“‡å…·é«”å–®ä½ï¼šä¾é¡åˆ¥é¡¯ç¤ºå¯ç”¨å–®ä½
```

**é¸å¡«æ¬„ä½ï¼š**
- **ä½è­‰è³‡æ–™** `supporting_documents`ï¼š
  - æ”¯æ´æ ¼å¼ï¼šPDFã€Excel (.xlsx, .xls)ã€åœ–ç‰‡ (.jpg, .jpeg, .png)
  - æœ€å¤§æª”æ¡ˆå¤§å°ï¼š50 MB
  - å¯ä¸Šå‚³å¤šå€‹æª”æ¡ˆ
  - æ”¯æ´æ‹–æ›³ä¸Šå‚³

- **å‚™è¨»** `description`ï¼šè‡ªç”±æ–‡å­—è¼¸å…¥

#### 3. è¡¨å–®é©—è­‰

```typescript
é©—è­‰è¦å‰‡ï¼š
âœ“ source ä¸å¯ç‚ºç©º
âœ“ name ä¸å¯ç‚ºç©º
âœ“ region å¿…é ˆé¸æ“‡
âœ“ effective_date å¿…é ˆå¡«å¯«
âœ“ selected_ghgs è‡³å°‘é¸æ“‡ä¸€ç¨®
âœ“ æ¯å€‹é¸ä¸­çš„ GHG å¿…é ˆå¡«å¯« factor å’Œ unit

é©—è­‰å¤±æ•— â†’ é¡¯ç¤ºç´…è‰²éŒ¯èª¤è¨Šæ¯
é©—è­‰é€šé â†’ ç¹¼çºŒå„²å­˜æµç¨‹
```

#### 4. å„²å­˜è™•ç†

```typescript
// page.tsx: handleCustomFactorSave()
1. æª¢æŸ¥æ˜¯å¦ç‚ºæ›´æ–°æ¨¡å¼ (factor.id å­˜åœ¨ä¸”åœ¨è³‡æ–™ä¸­)
   - æ˜¯ï¼šå‘¼å« updateCustomFactor(id, factor)
   - å¦ï¼šå‘¼å« addCustomFactor(factor)

2. å»ºç«‹å®Œæ•´çš„ CustomFactor ç‰©ä»¶ï¼š
   {
     id: æ–°å¢æ™‚ç”¨ Date.now()ï¼Œæ›´æ–°æ™‚æ²¿ç”¨åŸ ID
     source: è¡¨å–®è¼¸å…¥
     name: è¡¨å–®è¼¸å…¥
     region: è¡¨å–®è¼¸å…¥
     effective_date: è¡¨å–®è¼¸å…¥
     selected_ghgs: ['CO2', 'CH4', ...]

     // å„ GHG æ•¸å€¼ï¼ˆä¾ selected_ghgs è€Œå®šï¼‰
     co2_factor: æ•¸å€¼
     co2_unit: å–®ä½å­—ä¸²
     ch4_factor: æ•¸å€¼
     ch4_unit: å–®ä½å­—ä¸²
     ...

     // ä½è­‰è³‡æ–™
     supporting_documents: [
       {
         filename: æª”æ¡ˆåç¨±
         filepath: '' // æš«æ™‚ç‚ºç©ºï¼Œç­‰å¾…å¾Œç«¯å¯¦ä½œ
         upload_date: ISO 8601 æ™‚é–“æˆ³
       }
     ]

     // å›ºå®šå…ƒè³‡æ–™
     method_gwp: 'GWP100'
     source_type: 'user_defined'
     type: 'custom_factor'
     version: 'v1.0'
     created_at: ISO 8601
     updated_at: ISO 8601

     // ä¸­å¤®åº«ç›¸é—œ
     imported_to_central: false
     central_library_id: undefined
     imported_at: undefined
   }

3. å„²å­˜åˆ°å…¨å±€è®Šæ•¸ customFactors[]

4. è§¸ç™¼ UI æ›´æ–°ï¼š
   - setRefreshKey(prev => prev + 1)
   - onCustomFactorClose()
   - é¡¯ç¤ºæˆåŠŸ Toast
```

#### 5. é¡¯ç¤ºåœ¨åˆ—è¡¨

```typescript
// useMockData.ts: getAllUserDefinedFactors()
è¿”å›ï¼š
  - æ‰€æœ‰è‡ªå»ºçµ„åˆä¿‚æ•¸ (getUserDefinedCompositeFactors)
  - æ‰€æœ‰è‡ªè¨‚ä¿‚æ•¸ (convertCustomFactorToTableItem)

convertCustomFactorToTableItem è½‰æ›é‚è¼¯ï¼š
  1. å–ç¬¬ä¸€å€‹é¸ä¸­çš„ GHG ä½œç‚ºä¸»è¦é¡¯ç¤ºå€¼
  2. æå–å°æ‡‰çš„ factor å’Œ unit
  3. è½‰æ›ç‚º FactorTableItem æ ¼å¼

  {
    id: factor.id
    type: 'custom_factor'
    name: factor.name
    value: factor.co2_factor // ç¬¬ä¸€å€‹ GHG çš„ factor
    unit: factor.co2_unit    // ç¬¬ä¸€å€‹ GHG çš„ unit
    year: å¾ effective_date æå–å¹´ä»½
    region: factor.region
    source_type: 'user_defined'
    source_ref: factor.source
    data: å®Œæ•´çš„ CustomFactor ç‰©ä»¶
    imported_to_central: false
  }
```

---

## ğŸ’¾ è³‡æ–™çµæ§‹

### CustomFactor å‹åˆ¥å®šç¾©

```typescript
export interface CustomFactor {
  // === åŸºæœ¬è³‡è¨Šï¼ˆå¿…å¡«ï¼‰===
  id: number                        // å”¯ä¸€è­˜åˆ¥ç¢¼
  source: string                    // ä¿‚æ•¸ä¾†æº
  name: string                      // ä¿‚æ•¸åç¨±
  region: string                    // åœ‹å®¶/å€åŸŸ
  effective_date: string            // å•Ÿç”¨æ—¥æœŸ (ISO 8601)

  // === æº«å®¤æ°£é«”é¸æ“‡ ===
  selected_ghgs: string[]           // é¸ä¸­çš„ GHGï¼Œä¾‹å¦‚ï¼š['CO2', 'CH4', 'N2O']

  // === å„ GHG çš„æ’æ”¾ä¿‚æ•¸ï¼ˆå‹•æ…‹ï¼Œä¾ selected_ghgs æ±ºå®šï¼‰===
  co2_factor?: number               // COâ‚‚ æ’æ”¾ä¿‚æ•¸
  co2_unit?: string                 // COâ‚‚ å–®ä½
  ch4_factor?: number               // CHâ‚„ æ’æ”¾ä¿‚æ•¸
  ch4_unit?: string                 // CHâ‚„ å–®ä½
  n2o_factor?: number               // Nâ‚‚O æ’æ”¾ä¿‚æ•¸
  n2o_unit?: string                 // Nâ‚‚O å–®ä½
  hfcs_factor?: number              // HFCs æ’æ”¾ä¿‚æ•¸
  hfcs_unit?: string                // HFCs å–®ä½
  pfcs_factor?: number              // PFCs æ’æ”¾ä¿‚æ•¸
  pfcs_unit?: string                // PFCs å–®ä½
  sf6_factor?: number               // SFâ‚† æ’æ”¾ä¿‚æ•¸
  sf6_unit?: string                 // SFâ‚† å–®ä½
  nf3_factor?: number               // NFâ‚ƒ æ’æ”¾ä¿‚æ•¸
  nf3_unit?: string                 // NFâ‚ƒ å–®ä½

  // === ä½è­‰è³‡æ–™ï¼ˆé¸å¡«ï¼‰===
  supporting_documents?: Array<{
    filename: string                // æª”æ¡ˆåç¨±
    filepath: string                // æª”æ¡ˆè·¯å¾‘ï¼ˆå¾Œç«¯ä¸Šå‚³å¾Œå¡«å…¥ï¼‰
    upload_date: string             // ä¸Šå‚³æ™‚é–“ (ISO 8601)
  }>

  // === å…ƒè³‡æ–™ ===
  method_gwp: 'GWP100' | 'GWP20'    // GWP æ–¹æ³•ï¼ˆé è¨­ GWP100ï¼‰
  source_type: 'user_defined'       // å›ºå®šå€¼
  type: 'custom_factor'             // å›ºå®šå€¼
  version: string                   // ç‰ˆæœ¬è™Ÿ (ä¾‹å¦‚ï¼šv1.0)
  description?: string              // æè¿°ï¼ˆé¸å¡«ï¼‰
  notes?: string                    // å‚™è¨»ï¼ˆé¸å¡«ï¼‰
  created_at: string                // å»ºç«‹æ™‚é–“ (ISO 8601)
  updated_at: string                // æ›´æ–°æ™‚é–“ (ISO 8601)

  // === åŒ¯å…¥ä¸­å¤®åº«ç›¸é—œ ===
  imported_to_central?: boolean     // æ˜¯å¦å·²åŒ¯å…¥ä¸­å¤®åº«
  central_library_id?: number       // ä¸­å¤®åº«å°æ‡‰ ID
  imported_at?: string              // åŒ¯å…¥æ™‚é–“ (ISO 8601)
}
```

### è³‡æ–™å„²å­˜æ¶æ§‹

```typescript
// src/hooks/useMockData.ts

// å…¨å±€å„²å­˜
let customFactors: CustomFactor[] = []

// ç®¡ç†å‡½æ•¸
export function addCustomFactor(factor: CustomFactor)
export function updateCustomFactor(id: number, updates: Partial<CustomFactor>)
export function deleteCustomFactor(id: number): boolean
export function getCustomFactors(): CustomFactor[]
export function getCustomFactorById(id: number): CustomFactor | undefined
export function getAllUserDefinedFactors(): FactorTableItem[]
```

---

## ğŸ¨ UI/UX è¨­è¨ˆ

### å…¥å£æŒ‰éˆ•

```tsx
<HStack spacing={2}>
  {/* è‡ªè¨‚ä¿‚æ•¸æŒ‰éˆ• - ç¶ è‰² */}
  <Button
    leftIcon={<AddIcon />}
    colorScheme="green"
    variant="outline"
    size="sm"
    onClick={onOpenCustomFactor}
  >
    è‡ªè¨‚ä¿‚æ•¸
  </Button>

  {/* è‡ªå»ºçµ„åˆä¿‚æ•¸æŒ‰éˆ• - è—è‰² */}
  <Button
    leftIcon={<AddIcon />}
    colorScheme="blue"
    variant="outline"
    size="sm"
    onClick={onOpenComposite}
  >
    è‡ªå»ºçµ„åˆä¿‚æ•¸
  </Button>
</HStack>
```

### Drawer ä½ˆå±€ (2024-11-19 æ›´æ–°)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è‡ªè¨‚ä¿‚æ•¸                          âœ•     â”‚ â† DrawerHeader
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚ ä¿‚æ•¸ä¾†æº *                              â”‚
â”‚ [è¼¸å…¥æ¡†]                                â”‚
â”‚                                         â”‚
â”‚ ä¿‚æ•¸åç¨± *                              â”‚
â”‚ [è¼¸å…¥æ¡†]                                â”‚
â”‚                                         â”‚
â”‚ Country/Area *    â”‚    å•Ÿç”¨æ—¥æœŸ *       â”‚
â”‚ [ä¸‹æ‹‰é¸å–®]        â”‚    [æ—¥æœŸé¸æ“‡å™¨]     â”‚
â”‚                                         â”‚
â”‚ ç”¢ç”Ÿä¹‹æº«å®¤æ°£é«” *                        â”‚
â”‚ [COâ‚‚] [CHâ‚„] [Nâ‚‚O] [HFCs] ...          â”‚ â† Tag é¸æ“‡å™¨
â”‚                                         â”‚
â”‚ ä¿‚æ•¸å–®ä½è¨­å®š                            â”‚
â”‚ Preview: kg {GHG}/kWh                  â”‚
â”‚ åˆ†å­å–®ä½    /    åˆ†æ¯å–®ä½               â”‚
â”‚ [kg]            [é¸é¡åˆ¥] [é¸å–®ä½]       â”‚
â”‚                                         â”‚
â”‚ æ’æ”¾ä¿‚æ•¸ *                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ COâ‚‚          â”‚  â”‚ CHâ‚„          â”‚    â”‚
â”‚ â”‚ æ’æ”¾ä¿‚æ•¸     â”‚  â”‚ æ’æ”¾ä¿‚æ•¸     â”‚    â”‚
â”‚ â”‚ [æ•¸å­—è¼¸å…¥]   â”‚  â”‚ [æ•¸å­—è¼¸å…¥]   â”‚    â”‚
â”‚ â”‚ å–®ä½(è‡ªå‹•)   â”‚  â”‚ å–®ä½(è‡ªå‹•)   â”‚    â”‚
â”‚ â”‚ [kg COâ‚‚/kWh] â”‚  â”‚ [kg CHâ‚„/kWh] â”‚    â”‚ â† è‡ªå‹•å¸¶å…¥
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚ ğŸ“ ä¸Šå‚³ä½è­‰è³‡æ–™                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚  æ‹–æ›³æª”æ¡ˆè‡³æ­¤æˆ–é»æ“Šä¸Šå‚³           â”‚   â”‚
â”‚ â”‚  æ”¯æ´ PDF / Excel / åœ–ç‰‡         â”‚   â”‚
â”‚ â”‚  [é¸æ“‡æª”æ¡ˆ]                      â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚ å·²ä¸Šå‚³æª”æ¡ˆï¼š                            â”‚
â”‚ ğŸ“ test.pdf (125 KB) [âœ•]               â”‚
â”‚                                         â”‚
â”‚ å‚™è¨»                                    â”‚
â”‚ [æ–‡å­—å€åŸŸ]                              â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        [å–æ¶ˆ] [å„²å­˜ä¿‚æ•¸] â”‚ â† DrawerFooter
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### GHG Tag é¸æ“‡å™¨äº’å‹•

```
æœªé¸ä¸­ç‹€æ…‹ï¼š
â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”
â”‚ COâ‚‚ â”‚ â”‚ CHâ‚„ â”‚ â”‚ Nâ‚‚O â”‚  â† ç°è‰²å¤–æ¡†ï¼Œå¯é»æ“Š
â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜

é¸ä¸­ç‹€æ…‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚ COâ‚‚ âœ• â”‚ â”‚ CHâ‚„ âœ• â”‚  â† è—è‰²å¡«æ»¿ï¼Œé¡¯ç¤ºé—œé–‰æŒ‰éˆ•
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜

è¡Œç‚ºï¼š
- é»æ“Š Tag â†’ åˆ‡æ›é¸ä¸­/å–æ¶ˆ
- é»æ“Š âœ• â†’ å–æ¶ˆé¸æ“‡
```

### æª”æ¡ˆä¸Šå‚³å€åŸŸäº’å‹•

```
åˆå§‹ç‹€æ…‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ğŸ“                      â”‚
â”‚   æ‹–æ›³æª”æ¡ˆè‡³æ­¤æˆ–é»æ“Šä¸Šå‚³       â”‚
â”‚   æ”¯æ´ PDF / Excel / åœ–ç‰‡      â”‚
â”‚   [é¸æ“‡æª”æ¡ˆ]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ‹–æ›³ä¸­ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ğŸ“                      â”‚  â† è—è‰²èƒŒæ™¯
â”‚   æ”¾é–‹ä»¥ä¸Šå‚³æª”æ¡ˆ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å·²ä¸Šå‚³ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ å ±å‘Š.pdf         125 KB [âœ•] â”‚
â”‚ ğŸ“ æ•¸æ“š.xlsx        78 KB  [âœ•] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ åŠŸèƒ½é‚è¼¯è©³è§£

### 1. å‹•æ…‹ GHG æ¬„ä½é¡¯ç¤º

```typescript
// CustomFactorDrawer.tsx

// ç›£è½ selected_ghgs è®ŠåŒ–
{formData.selected_ghgs?.map(ghg => {
  const ghgKey = ghg.toLowerCase()
  const factorKey = `${ghgKey}_factor` as keyof CustomFactor
  const unitKey = `${ghgKey}_unit` as keyof CustomFactor

  return (
    <VStack key={ghg}>
      {/* é¡¯ç¤ºè©² GHG çš„è¼¸å…¥æ¬„ä½ */}
      <NumberInput
        value={formData[factorKey]}
        onChange={(_, valueNumber) => {
          setFormData({
            ...formData,
            [factorKey]: valueNumber
          })
        }}
      />
      <Input
        value={formData[unitKey]}
        onChange={(e) => {
          setFormData({
            ...formData,
            [unitKey]: e.target.value
          })
        }}
      />
    </VStack>
  )
})}
```

### 2. å–®ä½è‡ªå‹•å¸¶å…¥é‚è¼¯ (2024-11-19 æ–°å¢)

```typescript
// CustomFactorDrawer.tsx

// ç›£è½å–®ä½è¨­å®šè®ŠåŒ–
useEffect(() => {
  if (numeratorUnit || denominatorUnit) {
    // ç”Ÿæˆå–®ä½å­—ä¸²æ¨¡æ¿ï¼škg {GHG}/kWh
    const unitString = denominatorUnit
      ? `${numeratorUnit} {GHG}/${denominatorUnit}`
      : `${numeratorUnit} {GHG}`

    // ç‚ºæ‰€æœ‰é¸ä¸­çš„ GHG è‡ªå‹•å¸¶å…¥å–®ä½
    const updates: any = {}
    formData.selected_ghgs?.forEach(ghg => {
      const unitKey = `${ghg.toLowerCase()}_unit`
      // å°‡ {GHG} æ›¿æ›ç‚ºå¯¦éš›æ°£é«”åç¨±
      updates[unitKey] = unitString.replace('{GHG}', ghg)
    })

    setFormData(prev => ({
      ...prev,
      ...updates
    }))
  }
}, [numeratorUnit, denominatorUnit, formData.selected_ghgs])

// ä¾‹å¦‚ï¼š
// ä½¿ç”¨è€…è¨­å®šï¼škg / kWh
// é¸ä¸­ GHGï¼šCOâ‚‚, CHâ‚„
// è‡ªå‹•å¸¶å…¥ï¼š
//   co2_unit = "kg COâ‚‚/kWh"
//   ch4_unit = "kg CHâ‚„/kWh"
```

### 3. è¡¨å–®é©—è­‰é‚è¼¯

```typescript
const validateForm = (): boolean => {
  const newErrors: Record<string, string> = {}

  // åŸºæœ¬è³‡è¨Šé©—è­‰
  if (!formData.source?.trim()) {
    newErrors.source = 'è«‹è¼¸å…¥ä¿‚æ•¸ä¾†æº'
  }
  if (!formData.name?.trim()) {
    newErrors.name = 'è«‹è¼¸å…¥ä¿‚æ•¸åç¨±'
  }
  if (!formData.region) {
    newErrors.region = 'è«‹é¸æ“‡åœ‹å®¶/å€åŸŸ'
  }
  if (!formData.effective_date) {
    newErrors.effective_date = 'è«‹é¸æ“‡å•Ÿç”¨æ—¥æœŸ'
  }
  if (!formData.selected_ghgs || formData.selected_ghgs.length === 0) {
    newErrors.selected_ghgs = 'è«‹è‡³å°‘é¸æ“‡ä¸€ç¨®æº«å®¤æ°£é«”'
  }

  // GHG æ•¸å€¼é©—è­‰
  formData.selected_ghgs?.forEach(ghg => {
    const ghgKey = ghg.toLowerCase()
    const factorKey = `${ghgKey}_factor`
    const unitKey = `${ghgKey}_unit`

    if (formData[factorKey] === undefined || formData[factorKey] === null) {
      newErrors[factorKey] = `è«‹è¼¸å…¥ ${ghg} æ’æ”¾ä¿‚æ•¸`
    }
    if (!formData[unitKey]) {
      newErrors[unitKey] = `è«‹è¼¸å…¥ ${ghg} å–®ä½`
    }
  })

  setErrors(newErrors)
  return Object.keys(newErrors).length === 0
}
```

### 4. åˆ—è¡¨é¡¯ç¤ºé‚è¼¯

```typescript
// è½‰æ›ç‚ºè¡¨æ ¼é¡¯ç¤ºé …ç›®
function convertCustomFactorToTableItem(factor: CustomFactor): FactorTableItem {
  // å–ç¬¬ä¸€å€‹ GHG ä½œç‚ºä¸»è¦é¡¯ç¤º
  const firstGHG = factor.selected_ghgs[0]
  const ghgKey = firstGHG.toLowerCase()
  const mainValue = factor[`${ghgKey}_factor`] || 0
  const mainUnit = factor[`${ghgKey}_unit`] || ''

  return {
    id: factor.id,
    type: 'custom_factor',
    name: factor.name,
    value: mainValue,      // é¡¯ç¤ºç¬¬ä¸€å€‹ GHG çš„æ•¸å€¼
    unit: mainUnit,        // é¡¯ç¤ºç¬¬ä¸€å€‹ GHG çš„å–®ä½
    year: new Date(factor.effective_date).getFullYear(),
    region: factor.region,
    source_ref: factor.source,
    data: factor,          // ä¿ç•™å®Œæ•´è³‡æ–™ä¾›è©³æƒ…é ä½¿ç”¨
    // ...å…¶ä»–æ¬„ä½
  }
}
```

### 5. åŒ¯å…¥ä¸­å¤®åº«é‚è¼¯

```typescript
// è‡ªè¨‚ä¿‚æ•¸å¯ä»¥åŒ¯å…¥åˆ°ä¸­å¤®åº«
// é‚è¼¯èˆ‡çµ„åˆä¿‚æ•¸ç›¸åŒï¼š

1. é©—è­‰å¿…è¦æ¬„ä½
   - source (ä¾†æº)
   - region (åœ‹å®¶/å€åŸŸ)
   - effective_date (å•Ÿç”¨æ—¥æœŸ)
   - selected_ghgs (è‡³å°‘ä¸€ç¨® GHG)

2. å»ºç«‹ä¸­å¤®åº«é …ç›®
   - è¤‡è£½ CustomFactor æ‰€æœ‰æ¬„ä½
   - è¨­å®š imported_to_central = true
   - è¨˜éŒ„ central_library_id
   - è¨˜éŒ„ imported_at æ™‚é–“æˆ³

3. æ›´æ–°åŸè‡ªè¨‚ä¿‚æ•¸
   - æ¨™è¨˜ç‚ºå·²åŒ¯å…¥
   - å»ºç«‹é—œè¯
```

---

## ğŸ” è©³æƒ…é é¢é¡¯ç¤º

### è‡ªè¨‚ä¿‚æ•¸è©³æƒ…çµæ§‹

```tsx
<FactorDetail factor={selectedFactor} />

é¡¯ç¤ºå…§å®¹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŸºæœ¬è³‡è¨Š                           â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚ ä¿‚æ•¸ä¾†æºï¼šç’°ä¿ç½²                   â”‚
â”‚ ä¿‚æ•¸åç¨±ï¼šæŸ´æ²¹è»Šé‹è¼¸-è‡ªæœ‰è»ŠéšŠ     â”‚
â”‚ åœ‹å®¶/å€åŸŸï¼šå°ç£                   â”‚
â”‚ å•Ÿç”¨æ—¥æœŸï¼š2024-01-01              â”‚
â”‚ é¡å‹ï¼šè‡ªè¨‚ä¿‚æ•¸ (custom_factor)    â”‚
â”‚ ç‰ˆæœ¬ï¼šv1.0                        â”‚
â”‚                                    â”‚
â”‚ æ’æ”¾ä¿‚æ•¸                           â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚ COâ‚‚ï¼š2.6069 kg COâ‚‚/L              â”‚
â”‚ CHâ‚„ï¼š0.00001 kg CHâ‚„/L             â”‚
â”‚ Nâ‚‚Oï¼š0.00002 kg Nâ‚‚O/L             â”‚
â”‚                                    â”‚
â”‚ ä½è­‰è³‡æ–™                           â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚ ğŸ“ èª¿æŸ¥å ±å‘Š.pdf (ä¸Šå‚³æ–¼ 2024-01-15)â”‚
â”‚ ğŸ“ æ•¸æ“šè¡¨.xlsx (ä¸Šå‚³æ–¼ 2024-01-15) â”‚
â”‚                                    â”‚
â”‚ å‚™è¨»                               â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚ æ ¹æ“š 2024 å¹´è‡ªæœ‰è»ŠéšŠå¯¦éš›èª¿æŸ¥...   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš ï¸ é‡è¦ç´„æŸèˆ‡æ³¨æ„äº‹é …

### æ ¸å¿ƒç´„æŸ

1. **âŒ ä¸è¨ˆç®— COâ‚‚e ç¸½å€¼**
   - è‡ªè¨‚ä¿‚æ•¸ä¸éœ€è¦å°‡å¤šç¨® GHG è½‰æ›ç‚º COâ‚‚e
   - æ¯ç¨® GHG ä¿æŒç¨ç«‹çš„æ•¸å€¼å’Œå–®ä½
   - ä¸ä½¿ç”¨ GWP åŠ æ¬Šè¨ˆç®—

2. **âœ… Country/Area ç‚ºå¿…å¡«**
   - èˆ‡çµ„åˆä¿‚æ•¸ä¿æŒä¸€è‡´çš„ UX
   - å¾é è¨­çš„å€åŸŸé¸é …ä¸­é¸æ“‡

3. **âœ… æª”æ¡ˆä¸Šå‚³æš«æ™‚åªå„²å­˜è³‡è¨Š**
   - å‰ç«¯è¨˜éŒ„æª”æ¡ˆåç¨±ã€å¤§å°ã€ä¸Šå‚³æ™‚é–“
   - å¯¦éš›æª”æ¡ˆå­˜å„²éœ€è¦å¾Œç«¯ API æ”¯æ´
   - `filepath` æ¬„ä½ç›®å‰ç‚ºç©ºå­—ä¸²

### è³‡æ–™çµæ§‹ç´„æŸ

```typescript
// âŒ CustomFactor ä¸åŒ…å«é€™äº›æ¬„ä½ï¼š
value: number      // ç”¨æ–¼ COâ‚‚e ç¸½å€¼
unit: string       // ç”¨æ–¼ COâ‚‚e å–®ä½

// âœ… ä½¿ç”¨å€‹åˆ¥ GHG æ¬„ä½ï¼š
co2_factor: number
co2_unit: string
ch4_factor: number
ch4_unit: string
// ...
```

### UI/UX ç´„æŸ

1. **æŒ‰éˆ•é¡è‰²å€åˆ†**
   - è‡ªè¨‚ä¿‚æ•¸ï¼šç¶ è‰² (`colorScheme="green"`)
   - çµ„åˆä¿‚æ•¸ï¼šè—è‰² (`colorScheme="blue"`)

2. **Drawer å°ºå¯¸**
   - ä½¿ç”¨ `size="lg"` (å¤§å‹)
   - å¾å³å´æ»‘å‡º (`placement="right"`)

3. **è¡¨å–®é©—è­‰**
   - å³æ™‚é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
   - ç´…è‰²é‚Šæ¡†æ¨™ç¤ºéŒ¯èª¤æ¬„ä½
   - é˜²æ­¢ä¸å®Œæ•´è³‡æ–™å„²å­˜

---

## ğŸ§ª æ¸¬è©¦æ¡ˆä¾‹

### æ¸¬è©¦æ¡ˆä¾‹ 1ï¼šåŸºæœ¬æµç¨‹

```
æ­¥é©Ÿï¼š
1. é»æ“Šã€Œè‡ªè¨‚ä¿‚æ•¸ã€æŒ‰éˆ•
2. å¡«å¯«ï¼š
   - ä¾†æºï¼šç’°ä¿ç½²
   - åç¨±ï¼šæ¸¬è©¦æŸ´æ²¹ä¿‚æ•¸
   - å€åŸŸï¼šå°ç£
   - æ—¥æœŸï¼š2024-01-01
3. é¸æ“‡ GHGï¼šCOâ‚‚ã€CHâ‚„
4. è¼¸å…¥ï¼š
   - COâ‚‚ï¼š2.6069 kg COâ‚‚/L
   - CHâ‚„ï¼š0.00001 kg CHâ‚„/L
5. é»æ“Šå„²å­˜

é æœŸçµæœï¼š
âœ“ ä¿‚æ•¸å‡ºç¾åœ¨è‡ªå»ºä¿‚æ•¸åˆ—è¡¨
âœ“ é¡¯ç¤ºåç¨±ï¼šæ¸¬è©¦æŸ´æ²¹ä¿‚æ•¸
âœ“ é¡¯ç¤ºæ•¸å€¼ï¼š2.6069 kg COâ‚‚/L (ç¬¬ä¸€å€‹ GHG)
âœ“ Toast é¡¯ç¤ºæˆåŠŸè¨Šæ¯
```

### æ¸¬è©¦æ¡ˆä¾‹ 2ï¼šæª”æ¡ˆä¸Šå‚³

```
æ­¥é©Ÿï¼š
1. å¡«å¯«åŸºæœ¬è³‡è¨Š
2. æ‹–æ›³ test.pdf åˆ°ä¸Šå‚³å€åŸŸ
3. ç¢ºèªæª”æ¡ˆåˆ—è¡¨é¡¯ç¤º
4. é»æ“Š âœ• ç§»é™¤æª”æ¡ˆ
5. é‡æ–°ä¸Šå‚³æª”æ¡ˆ
6. é»æ“Šå„²å­˜

é æœŸçµæœï¼š
âœ“ æ‹–æ›³æ™‚èƒŒæ™¯è®Šè—è‰²
âœ“ æª”æ¡ˆåˆ—è¡¨æ­£ç¢ºé¡¯ç¤º
âœ“ å¯ä»¥ç§»é™¤æª”æ¡ˆ
âœ“ å„²å­˜å¾Œè³‡æ–™åŒ…å« supporting_documents
```

### æ¸¬è©¦æ¡ˆä¾‹ 3ï¼šè¡¨å–®é©—è­‰

```
æ­¥é©Ÿï¼š
1. é–‹å•Ÿ Drawerï¼Œä¸å¡«å¯«ä»»ä½•æ¬„ä½
2. ç›´æ¥é»æ“Šå„²å­˜

é æœŸçµæœï¼š
âœ“ é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ï¼šè«‹æª¢æŸ¥å¿…å¡«æ¬„ä½
âœ“ æ¨™ç¤ºæ‰€æœ‰å¿…å¡«æ¬„ä½ç‚ºç´…è‰²
âœ“ ä¸é—œé–‰ Drawer
âœ“ ä¸å„²å­˜è³‡æ–™
```

### æ¸¬è©¦æ¡ˆä¾‹ 4ï¼šåŒ¯å…¥ä¸­å¤®åº«

```
æ­¥é©Ÿï¼š
1. å»ºç«‹è‡ªè¨‚ä¿‚æ•¸
2. åœ¨åˆ—è¡¨ä¸­æ‰¾åˆ°è©²ä¿‚æ•¸
3. é»æ“Šã€ŒåŒ¯å…¥åˆ°ä¸­å¤®åº«ã€æŒ‰éˆ•
4. ç¢ºèªåŒ¯å…¥

é æœŸçµæœï¼š
âœ“ ä¿‚æ•¸å‡ºç¾åœ¨ä¸­å¤®ä¿‚æ•¸åº«
âœ“ åŸä¿‚æ•¸æ¨™è¨˜ç‚ºå·²åŒ¯å…¥
âœ“ é¡¯ç¤ºåŒ¯å…¥æˆåŠŸ Toast
```

### æ¸¬è©¦æ¡ˆä¾‹ 5ï¼šç·¨è¼¯ç¾æœ‰ä¿‚æ•¸

```
æ­¥é©Ÿï¼š
1. é»æ“Šå·²å»ºç«‹çš„è‡ªè¨‚ä¿‚æ•¸
2. é»æ“Šç·¨è¼¯æŒ‰éˆ•
3. ä¿®æ”¹åç¨±å’Œæ•¸å€¼
4. é»æ“Šå„²å­˜

é æœŸçµæœï¼š
âœ“ Drawer é å¡«ç¾æœ‰è³‡æ–™
âœ“ ä¿®æ”¹å¾Œæ­£ç¢ºæ›´æ–°
âœ“ updated_at æ™‚é–“æˆ³æ›´æ–°
âœ“ id ä¿æŒä¸è®Š
```

---

## ğŸ“ ç›¸é—œæª”æ¡ˆ

### æ ¸å¿ƒçµ„ä»¶
- `src/components/CustomFactorDrawer.tsx` - ä¸»è¦è¡¨å–®çµ„ä»¶ (Drawer)
- `src/components/GhgSelector.tsx` - GHG å¤šé¸å™¨
- `src/components/FileUploadZone.tsx` - æª”æ¡ˆä¸Šå‚³çµ„ä»¶

### è³‡æ–™ç®¡ç†
- `src/hooks/useMockData.ts` - è³‡æ–™ç®¡ç† Hook
- `src/types/types.ts` - CustomFactor å‹åˆ¥å®šç¾©

### é…ç½®
- `src/config/ghgOptions.ts` - GHG é¸é …é…ç½®
- `src/config/regionOptions.ts` - å€åŸŸé¸é …é…ç½® (èˆ‡çµ„åˆä¿‚æ•¸å…±ç”¨)

### ä¸»é é¢
- `src/app/page.tsx` - æ•´åˆèˆ‡ç‹€æ…‹ç®¡ç†
- `src/components/FactorTable.tsx` - åˆ—è¡¨é¡¯ç¤º
- `src/components/FactorDetail.tsx` - è©³æƒ…é é¢

---

## ğŸ”— ç›¸é—œåŠŸèƒ½

### èˆ‡å…¶ä»–åŠŸèƒ½çš„æ•´åˆ

1. **ä¸­å¤®ä¿‚æ•¸åº«**
   - è‡ªè¨‚ä¿‚æ•¸å¯åŒ¯å…¥ä¸­å¤®åº«
   - åŒ¯å…¥å¾Œä¿æŒåŒæ­¥è¿½è¹¤
   - æ”¯æ´ç‰ˆæœ¬ç®¡ç†

2. **è‡ªå»ºçµ„åˆä¿‚æ•¸**
   - å¯ä½¿ç”¨å·²åŒ¯å…¥ä¸­å¤®åº«çš„è‡ªè¨‚ä¿‚æ•¸ä½œç‚ºçµ„æˆå…ƒç´ 
   - å…©è€…ä¸¦åˆ—é¡¯ç¤ºåœ¨è‡ªå»ºä¿‚æ•¸åˆ—è¡¨

3. **å°ˆæ¡ˆå¼•ç”¨**
   - è‡ªè¨‚ä¿‚æ•¸å¯è¢«å°ˆæ¡ˆå¼•ç”¨
   - è¿½è¹¤ä½¿ç”¨æƒ…æ³
   - æ”¯æ´ç‰ˆæœ¬é–å®š

4. **å…¨åŸŸæœå°‹**
   - è‡ªè¨‚ä¿‚æ•¸å¯è¢«å…¨åŸŸæœå°‹
   - æ”¯æ´æŒ‰åç¨±ã€ä¾†æºã€å€åŸŸç¯©é¸

---

## ğŸ“š åƒè€ƒè³‡æ–™

- å¯¦ä½œè¨ˆç•«ï¼š`docs/IMPLEMENTATION_PLAN_Custom_Factor.md`
- Bug ä¿®å¾©è¨˜éŒ„ï¼š`docs/BUG_FIX_Custom_Factor_Detail_Display.md`
- GHG é¸é …é…ç½®ï¼š`src/config/ghgOptions.ts`
- çµ„åˆä¿‚æ•¸åƒè€ƒï¼š`src/components/CompositeEditorDrawer.tsx`

---

## ğŸ¯ æœªä¾†å„ªåŒ–æ–¹å‘

### çŸ­æœŸå„ªåŒ–
- [ ] å¯¦ä½œæª”æ¡ˆä¸Šå‚³å¾Œç«¯ API
- [ ] æ”¯æ´æª”æ¡ˆé è¦½åŠŸèƒ½
- [ ] æ–°å¢æ‰¹æ¬¡åŒ¯å…¥è‡ªè¨‚ä¿‚æ•¸
- [ ] å„ªåŒ–å–®ä½è¼¸å…¥ï¼ˆä¸‹æ‹‰é¸å–®ï¼‰

### ä¸­æœŸå„ªåŒ–
- [ ] æ”¯æ´è‡ªè¨‚ä¿‚æ•¸æ¨¡æ¿
- [ ] æ–°å¢è³‡æ–™é©—è­‰è¦å‰‡è¨­å®š
- [ ] æ”¯æ´ä¿‚æ•¸ç‰ˆæœ¬æ­·å²
- [ ] æ–°å¢åŒ¯å‡ºåŠŸèƒ½ï¼ˆExcel/CSVï¼‰

### é•·æœŸå„ªåŒ–
- [ ] æ•´åˆç¬¬ä¸‰æ–¹ä¿‚æ•¸è³‡æ–™åº«
- [ ] AI è¼”åŠ©å¡«å¯«å»ºè­°
- [ ] ä¿‚æ•¸å“è³ªè©•åˆ†ç³»çµ±
- [ ] å”ä½œç·¨è¼¯èˆ‡å¯©æ ¸æµç¨‹

---

**æ–‡ä»¶ç‰ˆæœ¬ï¼š** v1.0
**æœ€å¾Œæ›´æ–°ï¼š** 2024-11-19
**ç¶­è­·è€…ï¼š** ç”¢å“é–‹ç™¼åœ˜éšŠ
